выяснить каким образом можно использовать в бд паттерн синглетон +
склеивание команд по типу ab. две подряд команды в один объект + 
сделать управление ресурсами при добавление в документ(сохранение временных картинок) + и покрыть тестами После Undo удалять